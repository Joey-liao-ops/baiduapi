<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ReRe Player</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <h1>ReRe Player</h1>
        <div class="source-loader">
          <label class="file-label" id="openFileLabel">
            <input id="openFileInput" type="file" accept="video/*" multiple />本地文件
          </label>
        </div>
      </header>

      <main class="player-container">
        <div class="video-wrapper" id="videoWrapper">
          <video id="video" crossorigin="anonymous" disablepictureinpicture controlslist="nodownload noplaybackrate noremoteplayback"></video>
          <div id="toast" aria-live="polite" aria-atomic="true"></div>
          <div class="controls" id="controls">
            <div class="row primary">
              <button id="playPauseBtn" aria-label="播放/暂停" title="播放/暂停">▶️/⏸</button>
              <button id="prevBtn" aria-label="上一条" title="上一条">⏮</button>
              <button id="nextBtn" aria-label="下一条" title="下一条">⏭</button>
              <button id="mirrorBtn" aria-label="镜像" title="镜像">🪞</button>
              <button id="loopBtn" aria-label="循环播放" title="循环播放">🔄</button>
              <div class="ab-controls">
                <button id="setAButton" aria-label="设置A点" title="设置A点">A</button>
                <button id="setBButton" aria-label="设置B点" title="设置B点">B</button>
                <button id="clearABButton" aria-label="清除AB" title="清除AB">清除</button>
                <button id="saveABBtn" aria-label="导出AB片段" title="导出AB片段">导出AB</button>
              </div>
              <label class="rate">
                倍速
                <select id="rateSelect">
                  <option value="0.5">0.5×</option>
                  <option value="0.75">0.75×</option>
                  <option value="1" selected>1×</option>
                  <option value="1.25">1.25×</option>
                  <option value="1.5">1.5×</option>
                  <option value="2">2×</option>
                </select>
              </label>
              <button id="fullscreenBtn" aria-label="全屏" title="全屏">⛶</button>
              <button id="snapshotBtn" aria-label="截图" title="截图">📸</button>
            </div>
            <div class="row secondary">
              <span id="timeLabel">00:00 / 00:00</span>
              <div class="seekbar-wrapper">
                <input id="seekBar" type="range" min="0" max="1000" value="0" step="1" />
                <div id="abMarkers">
                  <div id="markerA" class="ab-marker a" hidden></div>
                  <div id="markerB" class="ab-marker b" hidden></div>
                </div>
              </div>
              <label class="volume">
                🔊
                <input id="volumeBar" type="range" min="0" max="1" value="1" step="0.01" />
              </label>
            </div>
          </div>
        </div>

        <aside class="playlist" id="playlistPanel">
          <div class="playlist-header">
            <strong>播放<br>列表</strong>
            <div class="playlist-add">
              <textarea id="playlistUrlInput" placeholder="添加视频 URL 到列表
（每行一个链接）" rows="4" style="width: 200px;"></textarea>
              <button id="addToPlaylistBtn" type="button">添加</button>
              <button id="clearPlaylistBtn" type="button">清空</button>
            </div>
          </div>
          <ul id="playlist"></ul>
        </aside>
      </main>

      <footer class="app-footer">
        <div class="shortcuts-help" style="margin-top: 10px;">
          <strong style="font-size: 14px;">快捷键：</strong>
          <span>空格键 - 播放/暂停</span>
          <span>←/→ - 快退/快进5秒</span>
          <span>↑/↓ - 增加/减少音量</span>
          <span>F - 全屏</span>
          <span>L - 循环播放</span>
          <span>R - 重新开始播放</span>
          <span>M - 静音</span>
          <span>A/B - 设置AB循环点</span>
          <span>ESC - 清除AB循环</span>
          <span>[ ] - 降低/提高播放速度</span>
          <span>ALT - 上一个视频</span>
          <span>CTRL - 下一个视频</span>
        </div>
      </footer>
    </div>

    <script src="player.js"></script>
  </body>
  </html>


